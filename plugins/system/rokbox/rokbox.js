Element.implement({rbshow:function(){return this.setStyle("display","");},rbhide:function(){return this.setStyle("display","none");}});String.implement({sameDomain:function(){var a=/^(http|https):\/\/([a-z-.0-9]+)[\/]{0,1}/i.exec(window.location);
var b=/^(http|https):\/\/([a-z-.0-9]+)[\/]{0,1}/i.exec(this);return a[2]===b[2];}});var RokBox=new Class({version:"2.3",Implements:[Options,Events],options:{className:"rokbox",theme:"default",transition:Fx.Transitions.Quad.easeOut,duration:200,chase:40,effect:"quicksilver",captions:true,captionsDelay:800,scrolling:false,keyEvents:true,overlay:{background:"#000",opacity:0.85,zIndex:65550,duration:200,transition:Fx.Transitions.Quad.easeInOut},"frame-border":0,"content-padding":0,"arrows-height":50,defaultSize:{width:640,height:460},autoplay:"true",controller:"false",bgcolor:"#f3f3f3",youtubeAutoplay:false,vimeoColor:"00adef",vimeoPortrait:false,vimeoTitle:false,vimeoFullScreen:true,vimeoByline:false},initialize:function(m){this.setOptions(m);
var h=new RegExp("^"+this.options.className),l=this.options.className,k=this;this.current=[];this.groups=new Hash({});this.changeGroup=false;this.swtch=false;
this.elements=$$("a").filter(this.isRokBoxElement.bind(this));var c=Object.merge(this.options.overlay,{id:l+"-overlay","class":l+"-overlay"});this.overlayObj=new Rokverlay(false,c).addEvent("onShow",function(){k.open(k.current);
}).addEvent("onHide",function(){if(k.changeGroup){k.changeGroup=false;var r=k.nextGroup[0],o=k.nextGroup[1],p=k.nextGroup[2],n=k.nextGroup[3],q;if(o.get("id").test("next")){q=p[n];
}else{q=p[n-2];}k.click.delay(100,k,[q.title,q.href,q.rel,k,q]);}});this.overlay=document.id(this.overlayObj.overlay).addEvent("click",function(){k.swtch=false;
k.close();});this.wrapper=new Element("div",{id:l+"-wrapper","class":l+"-"+this.options.theme}).inject(document.body).setStyles({position:"absolute",zIndex:65555,opacity:0}).rbhide();
var f=new Element("div",{id:l+"-top","class":l+"-left"}).inject(this.wrapper);var g=new Element("div",{"class":l+"-right"}).inject(f);var b=new Element("div",{"class":l+"-center"}).inject(g);
var a=new Element("div",{id:l+"-middle","class":l+"-left"}).inject(this.wrapper);var e=new Element("div",{"class":l+"-right"}).inject(a);this.center=new Element("div",{"class":l+"-center"}).inject(e);
var d=new Element("div",{id:l+"-bottom","class":l+"-left"}).inject(this.wrapper);var i=new Element("div",{"class":l+"-right"}).inject(d);var j=new Element("div",{"class":l+"-center"}).inject(i);
new Element("div",{"class":"clr"}).inject(this.wrapper);this.closeButton=new Element("a",{id:l+"-close",href:"#"}).set("html","<span>[x] close</span>").inject(this.center);
this.closeButton.addEvent("click",function(n){if(n){n.stop();}k.swtch=false;k.close(n);});this.fx={wrapper:new Fx.Morph(this.wrapper,{duration:this.options.duration,link:"ignore",transition:this.options.transition,onComplete:function(){if(k.type=="image"){return;
}if(!this.element.getStyle("opacity").toInt()&&k.overlayObj.open){k.wrapper.rbhide();if(!k.swtch){k.overlayObj.hide();}else{if(k.changeGroup){k.changeGroup=false;
var r=k.nextGroup[0],o=k.nextGroup[1],p=k.nextGroup[2],n=k.nextGroup[3],q;if(o.get("id").test("next")){q=p[n];}else{q=p[n-2];}k.click.delay(100,k,[q.title,q.href,q.rel,k,q]);
}}}else{k.loadVideo.delay(50,k);}}}),center:new Fx.Morph(this.center,{duration:this.options.duration,wait:true,transition:this.options.transition}),height:new Fx.Tween(this.center,{duration:this.options.duration,wait:true,transition:this.options.transition})};
window.addEvent("resize",function(){k.reposition(k.wrapper);k.overlayObj.reposition();});if(this.options.scrolling){window.addEvent("scroll",function(){k.reposition(k.wrapper);
});}},isRokBoxElement:function(h){var c=h.get("rel"),f=false,b=false,e=false;if(h.isRokBox){return false;}var g=(c||"").test(new RegExp("^"+this.options.className));
if(g){h.isRokBox=true;if(c){f=c.match(/\([a-z0-9A-Z]+\)/g)||false;}if(c){e=c.match(/\[module\=(.+)+\]/)||false;}if(e[1]){h.module=e[1];}else{h.module=false;
}if(f[0]){f=f[0].replace("(","").replace(")","");if(!this.groups.has(f)){this.groups.set(f,[]);}var a=this.groups.get(f);a.push(h);b=a.length;this.groups.set(f,a);
}h.group=f;h.idx=b;var d=this.click.pass([h.title,h.href,h.rel,this],h);h.addEvent("click",function(i){i.preventDefault();d();}.bind(this));}return g;},refresh:function(){this.elements=$$("a").filter(this.isRokBoxElement.bind(this));
},click:function(k,b,n,m,j){var h="";var f=n.match(/([0-9]+\s?[0-9]+)/g)||[""];f=f[0].split(" ");var f=n.match(/([0-9%]+\s?[0-9%]+)/g)||[""];h=f[0].split(" ");
f=f[0].split(" ");if(n.match(/fullscreen/g)){h="fullscreen";}var e=m.overflow();if(!j){j=false;}var l=this.group||j.group;var i=m.closeButton.getStyle("height").toInt()||m.closeButton.getSize().y||0;
var c=m.options["arrows-height"]||0;f[0]=(f[0])?f[0]:"";f[1]=(f[1])?f[1]:"";if((!f[0].contains("%")&&!f[1].contains("%"))&&!f[0].length||!f[1].length){if(b.match(/youtube\.com\/watch/i)){f[0]=640;
f[1]=385;}else{if(b.match(/dailymotion\./i)){f[0]=420;f[1]=339;}else{if(b.match(/metacafe\.com\/watch/i)){f[0]=400;f[1]=345;}else{if(b.match(/google\.com\/videoplay/i)){f[0]=400;
f[1]=326;}else{if(b.match(/vimeo\.com\/[0-9]{1,}/i)){f[0]=400;f[1]=225;}else{if(b.match(/\.(mov|qt|mpeg|divx|avi|xvid|mv4|m4v|wmv|wma|wax|wvx|asx|asf)$/i)){f[0]=504;
f[1]=336;}else{if(b.match(/\.(mp3|wav|m4a)$/i)){f[0]=320;f[1]=45;}}}}}}}}var g=window.getSize();if(f[0]>((Browser.Engine.presto)?window.innerWidth:g.x)||h=="fullscreen"){f[0]=((Browser.Engine.presto)?window.innerWidth:g.x)-m.overflow(true)-20;
}if(f[1]>((Browser.Engine.presto)?window.innerHeight:g.y)||h=="fullscreen"){f[1]=((Browser.Engine.presto)?window.innerHeight:g.y)-m.overflow()-i-c-20;}if(typeOf(f[0])!="number"&&typeOf(f[1])!="number"){if(f[0].contains("%")&&f[1].contains("%")){var d=(Browser.Engine.presto)?window.innerWidth:g.x;
var a=(Browser.Engine.presto)?window.innerHeight:g.y;f[0]=f[0].replace("%","").toInt();f[1]=f[1].replace("%","").toInt();f[0]=f[0]>100?100:f[0];f[1]=f[1]>100?100:f[1];
f[0]=d*f[0]/100;f[1]=a*f[1]/100;f[0]=f[0]-m.overflow(true)-20;f[1]=f[1]-m.overflow()-i-c-20;}}n={width:(f[0]||m.options.defaultSize.width).toInt(),height:(f[1]||m.options.defaultSize.height).toInt()};
options2={width:(f[0]||m.options.defaultSize.width).toInt()+m.overflow(true),height:(f[1]||m.options.defaultSize.height).toInt()+m.overflow()+i};m.current=[this,k,b,n,l,this.idx||j.idx,options2,this.module];
if(!m.swtch){m.overlayObj.toggle();}else{m.open(m.current);}},overflow:function(b){var a=(this.options["frame-border"]*2)+(this.options["content-padding"]*2);
return a;},open:function(){arguments=arguments[0];var m=arguments;var c=arguments[0],n=arguments[1],a=arguments[2],q=arguments[3],r=arguments[6],d=arguments[7],p=this;
this.closeButton.setStyle("visibility","visible");var k=p.closeButton.getStyle("height").toInt()||p.closeButton.getSize().y||p.closeButton.currentStyle.height.toInt()||0;
if(p.closeButton.getStyle("position")=="absolute"){k=0;}var e=p.options["arrows-height"]||0;this.wrapper.setStyles({width:r.width,height:r.height+e+k}).rbshow();
this.center.setStyles({width:q.width,height:q.height+k+e});if(p.options.captions&&!this.caption){var l=p.getCaption(n)||[false,false];var n=l[0],o=l[1];
this.caption=new Element("div",{id:this.options.className+"-caption"}).inject(this.center).setStyle("opacity",0).adopt(n,o);}if(p.options.captions&&this.caption){this.caption.rbhide().setStyle("height",0);
}if(p.container){p.container.empty();}var i=this.reposition(this.wrapper,r)[1];this.fx.wrapper.start(this.effects(this.options.effect,i).start).chain(function(){if(p.options.captions&&p.caption){(function(){var f=p.caption.getSize().y||0;
var b=p.center.getStyle("height").toInt();var h=p.caption.get("text").trim().length;p.fx.height.start("height",b+f-k).chain(function(){p.caption.fade("in");
if(p.options.keyEvents){p.evt=p.keyEvents.bind(p);document.addEvent("keyup",p.evt);}});}).delay(p.options.captionsDelay);}});var g=q.height+k+e;var j=this.effects(this.options.effect,i).start;
if(j.width||j.height){this.fx.center.start({width:(typeOf(j.width)=="array")?[0,q.width]:q.width,height:(typeOf(j.height)=="array")?[0,g]:g});}else{this.center.setStyles({width:q.width,height:g});
}},close:function(e,f){var b=this,d;var a={left:this.wrapper.getStyle("left").toInt(),top:this.wrapper.getStyle("top").toInt()};this.closeButton.setStyle("visibility","hidden");
this.container.removeClass("spinner");this.unloadVideo();d=this.effects((f)?f:this.options.effect,a).end;if(this.options.captions){this.caption.fade("out");
}if(this.options.keyEvents){document.removeEvent("keyup",b.evt);}if(this.arrows){this.arrows.dispose();}this.arrows=false;var c={};if(d.width!=null){c.width=Math.abs(d.width-b.overflow());
}if(d.height!=null){c.height=Math.abs(d.height);}this.fx.center.start(c).chain(function(){b.fx.height.cancel();if(b.caption){b.caption.setStyle("height","");
}b.center.setStyles({width:"",height:""});b.container.setStyles({width:"",height:""});});this.fx.wrapper.start(d);return this;},keyEvents:function(a){switch(a.key){case"left":if(this.arrows){this.prevArrow.fireEvent("click",a);
}break;case"right":if(this.arrows){this.nextArrow.fireEvent("click",a);}break;case"esc":this.swtch=false;this.close(a,"growl");}},reposition:function(a,i){var f=window.getSize(),b=window.getScroll();
if(!a){a=document.id(this.wrapper);}if(!i){var d=a.getSize();i={width:d.x,height:d.y};}var g=this.options["arrows-height"];var c=b.x+(((Browser.Engine.presto)?window.innerWidth:f.x)/2)-(i.width/2)-a.getStyle("padding-left").toInt();
var h=b.y+(((Browser.Engine.presto)?window.innerHeight:f.y)/2)-(i.height/2)-a.getStyle("padding-top").toInt()-(g/2);var e={top:(h>0)?h:0,left:(c>0)?c:0};
return[a.setStyles(e),e];},loadVideo:function(){if(this.container){this.container.dispose();}if(this.caption){this.caption.rbhide();}var n=this.current[1],d=this.current[2],h=this.current[3],f=this.current[4],e=this.current[5],a=this.options.className;
var c=this.current[7];var k=this.closeButton.getStyle("height").toInt()||this.closeButton.getSize().size.y||0;var r=this.options["arrows-height"]||0;this.type=false;
if(c){this.type="module";this.object=document.id(c);}else{if(d.match(/\.(gif|jpg|jpeg|png|bmp)$/i)||this.current[0].alt=="image"){this.type="image";var i=this;
this.object=new Asset.image(d,{id:"rokboxobject",onerror:function(){i.container.removeClass("spinner").addClass("warning");i.container.set("html","<h1>Image not found.</h1>");
},onload:function(){h.width=this.width;h.height=this.height;i.container.setStyles(h);var t=this,u=window.getSize(),s=window.getScroll();var w=s.y+(u.y/2)-(this.height/2)-i.wrapper.getStyle("padding-top").toInt();
if(w<0){w=0;}if(i.center.getStyle("width").toInt()!=h.width&&i.center.getStyle("height").toInt()!=h.height){i.fx.center.start({width:h.width,height:h.height+i.overflow(true)+r});
}var v=s.x+(u.x/2)-(this.width/2)-(i.overflow(true)/2)-i.wrapper.getStyle("padding-left").toInt();i.fx.wrapper.start({left:(v>0)?v:0,width:this.width+i.overflow(true),height:this.height+i.overflow()+r+k}).chain(function(){i.container.removeClass("spinner");
t.inject(i.container);if(i.arrows){i.arrows.rbshow();}});}});}else{if(d.match(/\.(mov|qt|mpeg|divx|avi|xvid|mv4|m4v)$/i)){this.type="qt";if(navigator.plugins&&navigator.plugins.length){this.object='<object id="rokboxobject" standby="loading..." type="video/quicktime" codebase="http://www.apple.com/qtactivex/qtplugin.cab" data="'+d+'" width="'+h.width+'" height="'+h.height+'"><param name="src" value="'+d+'" /><param name="scale" value="aspect" /><param name="controller" value="'+this.options.controller+'" /><param name="autoplay" value="'+this.options.autoplay+'" /><param name="bgcolor" value="'+this.options.bgcolor+'" /><param name="enablejavascript" value="true" /></object>';
}else{this.object='<object classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B" standby="loading..." codebase="http://www.apple.com/qtactivex/qtplugin.cab" type="video/quicktime" width="'+h.width+'" height="'+h.height+'" id="rokboxobject"><param name="src" value="'+d+'" /><param name="scale" value="aspect" /><param name="controller" value="'+this.options.controller+'" /><param name="autoplay" value="'+this.options.autoplay+'" /><param name="bgcolor" value="'+this.options.bgcolor+'" /><param name="enablejavascript" value="true" /></object>';
}}else{if(d.match(/\.(wmv|wma|wax|wvx|asx|asf)$/i)){this.type="wmv";if(navigator.plugins&&navigator.plugins.length){this.object='<object id="rokboxobject" standby="loading..." type="application/x-oleobject" data="'+d+'" width="'+h.width+'" height="'+h.height+'" /><param name="src" value="'+d+'" /><param name="autoStart" value="'+this.options.autoplay+'" /><param name="bgcolor" value="'+this.options.bgcolor+'" /></object>';
}else{this.object='<object id="rokboxobject" standby="loading..." classid="CLSID:22D6f312-B0F6-11D0-94AB-0080C74C7E95" type="application/x-oleobject" data="'+d+'" width="'+h.width+'" height="'+h.height+'" /><param name="filename" value="'+d+'" /><param name="showcontrols" value="'+this.options.controller+'"><param name="autoStart" value="'+this.options.autoplay+'" /><param name="bgcolor" value="'+this.options.bgcolor+'" /><param name="stretchToFit" value="true" /></object>';
}}else{if(d.match(/youtube\.com\/watch\?v=/i)||d.match(/youtube\-nocookie\.com\/watch\?v=/i)){this.type="flash";var g=parseUri(d);this.videoID=g.queryKey["v"];
delete g.queryKey["v"];if(this.options.youtubeAutoplay&&!g.queryKey["autoplay"]){g.queryKey["autoplay"]=1;}this.object=new SWFObject("http://www.youtube.com/v/"+this.videoID+"&"+Hash.toQueryString(g.queryKey),"rokboxobject",h.width,h.height,"9",this.options.bgcolor,"wmode","transparent");
this.object.addParam("allowscriptaccess","always");this.object.addParam("allowfullscreen","true");}else{if(d.match(/dailymotion\./i)){this.type="flash";
var j=d.split("_")[0].split("/");this.videoId=j[j.length-1];this.object=new SWFObject("http://www.dailymotion.com/swf/"+this.videoId+"&v3=1&colors=background:DDDDDD;glow:FFFFFF;foreground:333333;special:FFC300;&autoPlay=1&related=0","rokboxobject",h.width,h.height,"9",this.options.bgcolor);
this.object.addParam("allowscriptaccess","always");this.object.addParam("allowfullscreen","true");}else{if(d.match(/metacafe\.com\/watch/i)){this.type="flash";
var j=d.split("/");this.videoID=j[4];this.object=new SWFObject("http://www.metacafe.com/fplayer/"+this.videoID+"/.swf","rokboxobject",h.width,h.height,"9",this.options.bgcolor,"wmode","transparent");
this.object.addParam("allowscriptaccess","always");this.object.addParam("allowfullscreen","true");}else{if(d.match(/google\.com\/videoplay/i)){this.type="flash";
var j=d.split("=");this.videoID=j[1];this.object=new SWFObject("http://video.google.com/googleplayer.swf?docId="+this.videoID+"&autoplay=1&hl=en","rokboxobject",h.width,h.height,"9",this.options.bgcolor,"wmode","transparent");
this.object.addParam("allowscriptaccess","always");this.object.addParam("allowfullscreen","true");}else{if(d.match(/vimeo\.com\/[0-9]{1,}/i)){this.type="flash";
var j=d.split("/");this.videoID=j[3];this.options.vimeoFullScreen=(this.options.vimeoFullScreen)?1:0;this.options.vimeoTitle=(this.options.vimeoTitle)?1:0;
this.options.vimeoByline=(this.options.vimeoByline)?1:0;this.options.vimeoPortrait=(this.options.vimeoPortrait)?1:0;this.options.vimeoColor=(this.options.vimeoColor.match(/[0-9]{6}/))?this.options.vimeoColor:"00adef";
this.object=new SWFObject("http://www.vimeo.com/moogaloop.swf?clip_id="+this.videoID+"&amp;server=www.vimeo.com&amp;fullscreen="+this.options.vimeoFullScreen+"&amp;show_title="+this.options.vimeoTitle+"&amp;show_byline="+this.options.vimeoByline+"&amp;show_portrait="+this.options.vimeoPortrait+"&amp;color="+this.options.vimeoColor+"","rokboxobject",h.width,h.height,"9",this.options.bgcolor);
this.object.addParam("allowscriptaccess","always");this.object.addParam("allowfullscreen","true");}else{if(d.match(/\.swf/i)){this.type="flash";this.object=new SWFObject(d,"rokboxobject",h.width,h.height,"9",this.options.bgcolor,"wmode","transparent");
this.object.addParam("allowscriptaccess","always");this.object.addParam("allowfullscreen","true");}else{if(d.match(/\.flv/i)&&window.rokboxPath){this.type="flash";
d=window.rokboxPath+"jwplayer/jwplayer.swf?file="+d;this.object=new SWFObject(d,"rokboxobject",h.width,h.height,"9",this.options.bgcolor,"wmode","transparent");
this.object.addParam("allowscriptaccess","always");this.object.addParam("allowfullscreen","true");}else{if(d.match(/\.(mp3|m4a)$/i)){this.type="audio";
this.object='<object id="rokboxobject"" width="'+h.width+'" height="'+h.height+'" data="'+d+'"" type="'+((Browser.Engine.trident)?"application/x-mplayer2":"audio/mpeg")+'"><param value="'+d+'" name="src"/><param value="'+d+'" name="filename"/><param value="'+((Browser.Engine.trident)?"application/x-mplayer2":"audio/mpeg")+'" name="type"/><param name="bgcolor" value="'+this.options.bgcolor+'" /><p>No plugin matched for playing: '+d+"</p></object>";
}else{if(d.match(/\.wav$/i)){this.type="audio";this.object='<object id="rokboxobject"" width="'+h.width+'" height="'+h.height+'" data="'+d+'"" type="'+((Browser.Engine.trident)?"application/x-mplayer2":"audio/wav")+'"><param value="'+d+'" name="src"/><param value="'+d+'" name="filename"/><param value="'+((Browser.Engine.trident)?"application/x-mplayer2":"audio/wav")+'" name="type"/><param name="bgcolor" value="'+this.options.bgcolor+'" /><p>No plugin matched for playing: '+d+"</p></object>";
}else{this.type="iframe";var m="rokboxobject"+Date.now()+Number.random(0,100);this.object=new Element("iframe").setProperties({id:m,width:h.width,height:h.height,frameBorder:0,scrolling:"auto",src:d});
var i=this;this.object.onload=function(){i.container.removeClass("spinner");};}}}}}}}}}}}}}this.movie=document.id("rokboxobject");if(this.type){this.container=new Element("div",{id:a+"-container","class":a+"-container"}).addClass("spinner").setStyles(h).inject(this.center);
if(this.type=="flash"){this.object.write(this.container);}else{if(this.type=="module"){var p=this.object.clone(true,true);p.inject(this.container.removeClass("spinner")).setStyle("display","block");
if(this.object.get("id")){p.set("id",this.object.get("id"));}}else{if(this.type=="html"){this.object.inject(this.container);new Ajax(d,{method:"get",evalScripts:true,update:this.object,onComplete:function(){this.container.removeClass("spinner");
}.bind(this)}).request();}else{if(this.type=="iframe"){this.object.inject(this.container);}else{if(this.type!="image"){this.container.removeClass("spinner").set("html",this.object);
}}}}}if(f){var o=this.groups.get(f),i=this;if(o.length>1){if(!this.arrows){this.arrows=new Element("div",{id:this.options.className+"-arrows"}).inject(this.center).rbhide();
if(e!=1){this.prevArrow=new Element("a",{id:this.options.className+"-previous"}).inject(this.arrows).set("html","<span>&lt;previous</span>");this.prevArrow.setProperties({href:o[e-2].get("href"),title:o[e-2].get("title")});
}if(e!=o.length){this.nextArrow=new Element("a",{id:this.options.className+"-next"}).inject(this.arrows).set("html","<span>next &gt;</span>");this.nextArrow.setProperties({href:o[e].get("href"),title:o[e].get("title")});
}if(e==1){this.prevArrow=new Element("a",{id:this.options.className+"-previous","class":"inactive",href:"#"}).inject(this.arrows,"top").set("html","<span>&lt;previous</span>");
}if(e==o.length){this.nextArrow=new Element("a",{id:this.options.className+"-next","class":"inactive",href:"#"}).inject(this.arrows).set("html","<span>next &gt;</span>");
}this.prevArrow.addEvent("click",function(s){if(s){s.stop();}if(!this.hasClass("inactive")){i.changeGroup=true;i.nextGroup=[s,this,o,e];i.swtch=true;i.close(s,"growl");
}});this.nextArrow.addEvent("click",function(s){if(s){s.stop();}if(!this.hasClass("inactive")){i.changeGroup=true;i.nextGroup=[s,this,o,e];i.swtch=true;
i.close(s,"growl");}});}this.arrows.rbshow();}}if(this.options.captions){var b=this.getCaption(n)||[false,false];var q=b[0],l=b[1];if(this.caption){this.caption.empty().dispose();
}this.caption=new Element("div",{id:this.options.className+"-caption"}).inject(this.center).setStyle("opacity",0).adopt(q,l);}}},unloadVideo:function(){if(this.type){this.container.setStyle("visibility","hidden").empty();
}this.movie=null;this.type=false;},getCaption:function(a){a=a.split(" :: ")||false;switch(a.length){case 0:return false;break;case 1:var c=false;var b=new Element("p").set("text",a[0]);
break;case 2:var c=new Element("h2").set("text",a[0]);var b=new Element("p").set("text",a[1]);break;}return[c,b];},getGroup:function(b){var a=b.get("rel"),c=false;
if(a){c=a.match(/\([a-z0-9A-Z]+\)/g)||false;}if(c[0]){c=c[0].replace("(","").replace(")","");}else{c=false;}return c;},effects:function(e,b){var d={};if(!b){b=0;
}switch(e){case"growl":d={start:{top:[b.top-this.options.chase,b.top],opacity:1},end:{top:this.wrapper.getStyle("top").toInt()+this.options.chase,opacity:0}};
break;case"quicksilver":var a=this.wrapper.getStyle("height").toInt(),c=this.wrapper.getStyle("width").toInt();d={start:{top:[b.top+(a/2),b.top],height:[0,a],opacity:1},end:{top:b.top+(a/2),left:window.getSize().x/2-((window.getScrollSize().x-10)/2),width:window.getScrollSize().x-30,height:0,opacity:0}};
break;case"explode":var a=this.wrapper.getStyle("height").toInt(),c=this.wrapper.getStyle("width").toInt();d={start:{height:[0,a],width:[0,c],opacity:1,top:[(window.getSize().y/2)+window.getScroll().y,b.top],left:[(window.getSize().x/2)+window.getScroll().x,b.left]},end:{height:0,width:0,opacity:0,top:(window.getSize().y/2)+window.getScroll().y,left:(window.getSize().x/2)+window.getScroll().x}};
break;case"fade":d={start:{opacity:1},end:{opacity:0}};}return d;}});var Rokverlay=new Class({Implements:[Options,Events],options:{id:false,"class":false,background:"#000000",opacity:0.7,zIndex:65555,duration:200,transition:Fx.Transitions.Quad.easeInOut},initialize:function(b,a){this.where=document.id(b)||document.body;
this.setOptions(a);this.overlay=new Element("div",{id:this.options.id||("rokverlay-"+$random(1,1000)),"class":this.options.id||("rokverlay-"+$random(1,1000)),styles:{opacity:0,display:"none",position:"absolute",top:0,left:0,cursor:"pointer","background-color":this.options.background,"z-index":this.options.zIndex}}).inject(document.id(document.body));
this.fx=new Fx.Tween(this.overlay,{duration:this.options.duration,transition:this.options.transition});this.open=false;return this;},reposition:function(b){var a=this.where;
b=b||window.getScrollSize();document.id(this.overlay).setStyles({top:a.getPosition().y||0,left:a.getPosition().x||0,width:(Browser.Engine.webkit)?"100%":window.getSize().x,height:b.y});
return this;},show:function(){var b=this.overlay,a=this;this.overlay.setStyle("display","");this.open=true;this.reposition().fx.start("opacity",this.options.opacity).chain(function(){a.fireEvent("onShow",b);
});return this;},hide:function(){var b=this.overlay,a=this;this.open=false;this.reposition().fx.start("opacity",0).chain(function(){b.setStyle("display","none");
a.fireEvent("onHide",b);});return this;},toggle:function(){this[this.open?"hide":"show"]();return this;}});function parseUri(e){var d=parseUri.options,a=d.parser[d.strictMode?"strict":"loose"].exec(e),c={},b=14;
while(b--){c[d.key[b]]=a[b]||"";}c[d.q.name]={};c[d.key[12]].replace(d.q.parser,function(g,f,h){if(f){c[d.q.name][f]=h;}});return c;}parseUri.options={strictMode:false,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};
if(typeof deconcept=="undefined"){var deconcept=new Object();}if(typeof deconcept.util=="undefined"){deconcept.util=new Object();}if(typeof deconcept.SWFObjectUtil=="undefined"){deconcept.SWFObjectUtil=new Object();
}deconcept.SWFObject=function(m,b,n,e,j,k,g,f,d,l){if(!document.getElementById){return;}this.DETECT_KEY=l?l:"detectflash";this.skipDetect=deconcept.util.getRequestParameter(this.DETECT_KEY);
this.params=new Object();this.variables=new Object();this.attributes=new Array();if(m){this.setAttribute("swf",m);}if(b){this.setAttribute("id",b);}if(n){this.setAttribute("width",n);
}if(e){this.setAttribute("height",e);}if(j){this.setAttribute("version",new deconcept.PlayerVersion(j.toString().split(".")));}this.installedVer=deconcept.SWFObjectUtil.getPlayerVersion();
if(!Browser.Engine.presto&&document.all&&this.installedVer.major>7){deconcept.SWFObject.doPrepUnload=true;}if(k){this.addParam("bgcolor",k);}var a=g?g:"high";
this.addParam("quality",a);this.setAttribute("useExpressInstall",false);this.setAttribute("doExpressInstall",false);var i=(f)?f:window.location;this.setAttribute("xiRedirectUrl",i);
this.setAttribute("redirectUrl","");if(d){this.setAttribute("redirectUrl",d);}};deconcept.SWFObject.prototype={useExpressInstall:function(a){this.xiSWFPath=!a?"expressinstall.swf":a;
this.setAttribute("useExpressInstall",true);},setAttribute:function(a,b){this.attributes[a]=b;},getAttribute:function(a){return this.attributes[a];},addParam:function(b,a){this.params[b]=a;
},getParams:function(){return this.params;},addVariable:function(b,a){this.variables[b]=a;},getVariable:function(a){return this.variables[a];},getVariables:function(){return this.variables;
},getVariablePairs:function(){var c=new Array();var b;var a=this.getVariables();for(b in a){c[c.length]=b+"="+a[b];}return c;},getSWFHTML:function(){var b="";
if(navigator.plugins&&navigator.mimeTypes&&navigator.mimeTypes.length){if(this.getAttribute("doExpressInstall")){this.addVariable("MMplayerType","PlugIn");
this.setAttribute("swf",this.xiSWFPath);}b='<embed type="application/x-shockwave-flash" src="'+this.getAttribute("swf")+'" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'" style="'+this.getAttribute("style")+'"';
b+=' id="'+this.getAttribute("id")+'" name="'+this.getAttribute("id")+'" ';var f=this.getParams();for(var e in f){b+=[e]+'="'+f[e]+'" ';}var d=this.getVariablePairs().join("&");
if(d.length>0){b+='flashvars="'+d+'"';}b+="/>";}else{if(this.getAttribute("doExpressInstall")){this.addVariable("MMplayerType","ActiveX");this.setAttribute("swf",this.xiSWFPath);
}b='<object id="'+this.getAttribute("id")+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'" style="'+this.getAttribute("style")+'">';
b+='<param name="movie" value="'+this.getAttribute("swf")+'" />';var c=this.getParams();for(var e in c){b+='<param name="'+e+'" value="'+c[e]+'" />';}var a=this.getVariablePairs().join("&");
if(a.length>0){b+='<param name="flashvars" value="'+a+'" />';}b+="</object>";}return b;},write:function(b){if(this.getAttribute("useExpressInstall")){var a=new deconcept.PlayerVersion([6,0,65]);
if(this.installedVer.versionIsValid(a)&&!this.installedVer.versionIsValid(this.getAttribute("version"))){this.setAttribute("doExpressInstall",true);this.addVariable("MMredirectURL",escape(this.getAttribute("xiRedirectUrl")));
document.title=document.title.slice(0,47)+" - Flash Player Installation";this.addVariable("MMdoctitle",document.title);}}if(this.skipDetect||this.getAttribute("doExpressInstall")||this.installedVer.versionIsValid(this.getAttribute("version"))){var c=(typeof b=="string")?document.getElementById(b):b;
c.innerHTML=this.getSWFHTML();return true;}else{if(this.getAttribute("redirectUrl")!=""){document.location.replace(this.getAttribute("redirectUrl"));}}return false;
}};deconcept.SWFObjectUtil.getPlayerVersion=function(){var f=new deconcept.PlayerVersion([0,0,0]);if(navigator.plugins&&navigator.mimeTypes.length){var a=navigator.plugins["Shockwave Flash"];
if(a&&a.description){f=new deconcept.PlayerVersion(a.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split("."));}}else{if(navigator.userAgent&&navigator.userAgent.indexOf("Windows CE")>=0){var b=1;
var c=3;while(b){try{c++;b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+c);f=new deconcept.PlayerVersion([c,0,0]);}catch(d){b=null;}}}else{try{var b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");
}catch(d){try{var b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");f=new deconcept.PlayerVersion([6,0,21]);b.AllowScriptAccess="always";}catch(d){if(f.major==6){return f;
}}try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");}catch(d){}}if(b!=null){f=new deconcept.PlayerVersion(b.GetVariable("$version").split(" ")[1].split(","));
}}}return f;};deconcept.PlayerVersion=function(a){this.major=a[0]!=null?parseInt(a[0]):0;this.minor=a[1]!=null?parseInt(a[1]):0;this.rev=a[2]!=null?parseInt(a[2]):0;
};deconcept.PlayerVersion.prototype.versionIsValid=function(a){if(this.major<a.major){return false;}if(this.major>a.major){return true;}if(this.minor<a.minor){return false;
}if(this.minor>a.minor){return true;}if(this.rev<a.rev){return false;}return true;};deconcept.util={getRequestParameter:function(c){var d=document.location.search||document.location.hash;
if(c==null){return d;}if(d){var b=d.substring(1).split("&");for(var a=0;a<b.length;a++){if(b[a].substring(0,b[a].indexOf("="))==c){return b[a].substring((b[a].indexOf("=")+1));
}}}return"";}};deconcept.SWFObjectUtil.cleanupSWFs=function(){var b=document.getElementsByTagName("OBJECT");for(var c=b.length-1;c>=0;c--){b[c].style.display="none";
for(var a in b[c]){if(typeof b[c][a]=="function"){b[c][a]=function(){};}}}};if(deconcept.SWFObject.doPrepUnload){if(!deconcept.unloadSet){deconcept.SWFObjectUtil.prepUnload=function(){__flash_unloadHandler=function(){};
__flash_savedUnloadHandler=function(){};window.attachEvent("onunload",deconcept.SWFObjectUtil.cleanupSWFs);};window.attachEvent("onbeforeunload",deconcept.SWFObjectUtil.prepUnload);
deconcept.unloadSet=true;}}if(!document.getElementById&&document.all){document.getElementById=function(a){return document.all[a];};}var getQueryParamValue=deconcept.util.getRequestParameter;
var FlashObject=deconcept.SWFObject;var SWFObject=deconcept.SWFObject;